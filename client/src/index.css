/*
  Font setup: Prefer 'Onest' for headings if available.
  To use the font locally, place your font files in `public/fonts/` (e.g. `public/fonts/Onest.woff2`) and the @font-face below will load them.
  If you have a webfont provider URL (Google/Adobe), you can replace the src with that provider's URL.
*/

@font-face {
  font-family: 'Onest';
  font-style: normal;
  font-weight: 400 800;
  font-display: swap;
  /* Prefer local installation; add webfont files to `public/fonts/Onest.woff2` if you want to self-host.
     For now we avoid referencing non-present files so the dev build doesn't fail. */
  src: local('Onest'), local('Onest Placeholder');
}

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Beautiful Background Pattern */
body {
  background-color: #EAECF9;
  min-height: 100vh;
  /* Default UI font; headings will prefer 'Onest' if available */
  font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif;
}

/* Ensure content is above background */
#root {
  position: relative;
  z-index: 1;
}

/* Ensure html/body/root occupy full height so background covers the page */
html, body, #root {
  height: 100%;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  background-image: radial-gradient(circle, #e2e8f0 1px, transparent 1px);
  background-size: 20px 20px;
  background-repeat: repeat;
  background-attachment: fixed;
  opacity: 0.6;
}

#root {
  background: transparent;
}

/* Headings should prefer Onest when available */
h1,h2,h3,h4,h5,h6 {
  font-family: 'Onest', 'Montserrat', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

/* Main heading style to match provided design (large, uppercase, tight tracking) */
.main-heading {
  text-transform: uppercase;
  font-weight: 800;
  letter-spacing: -1px;
  line-height: 0.9;
  /* responsive size: clamp from 40px up to ~88px */
  font-size: clamp(40px, 8vw, 88px);
  /* default light color; components can override with utility classes when needed */
  color: var(--main-heading-color, #F5F5F5);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: color 700ms ease-in-out, -webkit-text-fill-color 700ms ease-in-out;
}

@media (max-width: 768px) {
  .main-heading {
    font-size: clamp(28px, 10vw, 48px);
    letter-spacing: -0.5px;
  }
}

/* Light-mode class for sections that should become white when active */
.light-mode-active {
  background-color: #ffffff !important;
}
.light-mode-active .main-heading {
  color: #0f172a !important;
  -webkit-text-fill-color: #0f172a !important;
}

/* Small helper class to smoothly transition text color on theme/section changes */
.heading-transition {
  transition: color 700ms ease-in-out, -webkit-text-fill-color 700ms ease-in-out;
}

/* Small helper to hint the browser to promote elements to their own layer
   and prefer transform/opacity animations for smoothness. */
.smooth-will-change {
  will-change: transform, opacity;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  transform: translateZ(0);
}

/* Reduce heavy visuals on low-end devices or when users prefer reduced motion */
.reduced-visuals .backdrop-blur-sm,
.reduced-visuals .backdrop-blur-md,
.reduced-visuals .backdrop-blur-lg,
.reduced-visuals .backdrop-blur-xl,
.reduced-visuals .backdrop-blur-2xl {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

.reduced-visuals .blur-lg,
.reduced-visuals .blur-2xl {
  filter: none !important;
}

/* Elegant page scrollbar (WebKit + Firefox)
   - Frosted glass thumb with gradient
   - Subtle track shadow and rounded corners
   - Thumb expands slightly on hover
   - Stronger fallback for Firefox via `scrollbar-color` */
html, body, #root, .app-root, .scrollable {
  scrollbar-width: thin;
  scrollbar-color: rgba(59,130,246,0.85) rgba(0,0,0,0.06); /* firefox: thumb, track */
}

/* WebKit (Chrome, Edge, Safari) */
::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

::-webkit-scrollbar-track {
  background: linear-gradient(180deg, rgba(15,23,42,0.02), rgba(15,23,42,0.03));
  border-radius: 999px;
  margin: 10px 0;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.04), inset 0 -6px 12px rgba(2,6,23,0.04);
}

/* Thumb: frosted glass + vibrant gradient */
::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, rgba(99,102,241,0.95), rgba(16,185,129,0.95));
  border-radius: 999px;
  border: 3px solid rgba(255,255,255,0.08);
  box-shadow: 0 8px 24px rgba(16,24,40,0.14), inset 0 1px 0 rgba(255,255,255,0.06);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  transition: transform 200ms cubic-bezier(.2,.9,.2,1), box-shadow 200ms;
}

/* Slightly larger and brighter on hover for affordance */
::-webkit-scrollbar-thumb:hover {
  transform: scaleX(1.03);
  box-shadow: 0 12px 30px rgba(16,24,40,0.2), inset 0 1px 0 rgba(255,255,255,0.08);
}

/* Focused state for keyboard users (visible outline) */
::-webkit-scrollbar-thumb:focus {
  outline: 2px solid rgba(59,130,246,0.18);
}

/* Corner */
::-webkit-scrollbar-corner {
  background: transparent;
}

/* Decorative subtle highlight on thumb (works in WebKit where pseudo elements are supported) */
::-webkit-scrollbar-thumb:before {
  content: '';
  display: block;
  height: 100%;
  width: 2px;
  margin-left: -2px;
  background: linear-gradient(180deg, rgba(255,255,255,0.35), rgba(255,255,255,0.06));
  border-top-left-radius: 999px;
  border-bottom-left-radius: 999px;
  opacity: 0.9;
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  ::-webkit-scrollbar-thumb { transition: none; }
  ::-webkit-scrollbar-thumb:hover { transform: none; }
}

/* Make scrollbars more pronounced on hover over the page (desktop) */
@media (hover: hover) and (pointer: fine) {
  html:hover ::-webkit-scrollbar { width: 14px; }
}

